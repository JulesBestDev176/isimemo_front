// Ajouter apr√®s l'endpoint /api/demandes/:id/taches

// GET - R√©cup√©rer les t√¢ches d'un dossier sp√©cifique (pour EspaceTravail candidat)
app.get('/api/dossiers/:id/taches', async (req, res) => {
  try {
    const dossierId = parseInt(req.params.id);
    
    // R√©cup√©rer toutes les t√¢ches li√©es √† ce dossier
    const taches = await Tache.find({ dossierId }).sort({ ordre: 1 });
    
    console.log(`üìã T√¢ches pour dossier ${dossierId}:`, taches.length);
    res.json(taches);
  } catch (error) {
    console.error('Erreur r√©cup√©ration t√¢ches dossier:', error);
    res.status(500).json({ error: 'Erreur serveur' });
  }
});
